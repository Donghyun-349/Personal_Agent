name: Keep Streamlit App Alive

on:
  schedule:
    # Run every 8 hours
    - cron: '0 */8 * * *'
  workflow_dispatch:

jobs:
  ping_app:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Streamlit App
        env:
          APP_URL: ${{ secrets.STREAMLIT_APP_URL }}
        run: |
          if [ -z "$APP_URL" ]; then
            echo "URL not configured in secrets. Skipping ping."
            exit 0
          fi
          echo "Pinging $APP_URL..."
          curl -I "$APP_URL"
